/*global jQuery */

/*-------------------------------
* Every Day I'm Instagrammin'
* http://everydayiminstagrammin.stephenscaff.com
* Version: 1.0
*
* Licensed under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
*
* Copyright 2015, Stephen Scaff
* http://sosweetcreative.com
* http://stephenscaff.com
*
*------------------------------- */
!function($){$.everydayImInstagrammin={defaults:{clientID:"null",accessToken:"null",numberPics:"12",imgClass:"everyday-img",sequenceFadeIn:"true",sequenceDuration:"220",captions:"false",captionAlign:"bottom",instaType:"instaUser"}},$.fn.extend({everydayImInstagrammin:function(a){return $.extend($.everydayImInstagrammin.defaults,a),this.each(function(){var e=$(this),t=a.clientID,n=a.accessToken,s=a.numberPics,i=a.imgClass,c=a.sequenceFadeIn,o=a.sequenceDuration,r=a.captionAlign,l=a.hashTag,d="https://api.instagram.com/v1/users/"+t+"/media/recent/?access_token="+n+"&callback=?";"byHash"===a.instaType&&(d="https://api.instagram.com/v1/tags/"+l+"/media/recent/?access_token="+n+"&callback=?"),$.ajax({type:"GET",dataType:"jsonp",cache:!1,url:d,success:function(t){for(var n=0;n<a.numberPics;n++)if(t.data[n].hasOwnProperty("caption")){var s="";null!==t.data[n].caption&&(s=t.data[n].caption.text),e.append("<li class='everyday-item'><a target='_blank' href='"+t.data[n].link+"'><img class='"+a.imgClass+"' src='"+t.data[n].images.standard_resolution.url+"' /><div class='everyday-caption'><p>"+s+"</p></div></a></li>")}else e.append("<li class='everyday-item'><a target='_blank' href='"+t.data[n].link+"'><img class='"+a.imgClass+"' src='"+t.data[n].images.standard_resolution.url+"'  /></a></li>");if("bottom"===a.captionAlign&&$(".everyday-caption p").css({position:"absolute",bottom:"10px"}),"top"===a.captionAlign&&$(".everyday-caption p").css({position:"absolute",top:"10px"}),"true"===a.sequenceFadeIn){var c=0;$("."+i).hide().each(function(){$(this).delay(c).fadeIn(500),c+=o})}$("li.everyday-item a").on({mouseenter:function(){$(".everyday-caption",this).filter(":not(:animated)").fadeIn(400)},mouseleave:function(){$(".everyday-caption",this).fadeOut(400)}})}})})}})}(jQuery);